import 'package:flutter/material.dart';
import 'package:cached_network_image/cached_network_image.dart';
import 'package:nvs/core/theme/nvs_colors.dart';
import 'package:nvs/core/theme/nvs_text_styles.dart';
import 'package:nvs/features/grid/domain/models/user_profile.dart';
import 'role_badge.dart';

class ProfileCard extends StatelessWidget {
  final UserProfile user;
  const ProfileCard({super.key, required this.user});

  @override
  Widget build(BuildContext context) {
    return Container(
      decoration: BoxDecoration(
        borderRadius: BorderRadius.circular(12),
        border: Border.all(color: NVSColors.primaryNeonMint.withOpacity(0.3), width: 1.2),
        color: NVSColors.pureBlack.withOpacity(0.6),
      ),
      child: Column(
        mainAxisAlignment: MainAxisAlignment.center,
        children: [
          ClipRRect(
            borderRadius: BorderRadius.circular(10),
            child: CachedNetworkImage(
              imageUrl: user.photoURL,
              height: 100,
              width: 100,
              fit: BoxFit.cover,
              placeholder: (context, url) => const CircularProgressIndicator(),
              errorWidget: (context, url, error) => const Icon(Icons.error),
            ),
          ),
          const SizedBox(height: 8),
          Text(
            '${user.displayName}, ${user.age}',
            style: NVSTextStyles.caption.copyWith(color: Colors.white),
          ),
          const SizedBox(height: 6),
          RoleBadge(role: user.roleTag),
        ],
      ),
    );
  }
}
